import { Account, AnonymousJazzAgent, AuthSecretStorage, } from "jazz-tools";
import { JAZZ_AUTH_CTX, JAZZ_CTX } from './jazz.svelte.js';
import { TestJazzContextManager } from "jazz-tools/testing";
export function createJazzTestContext(opts = {}) {
    const ctx = new Map();
    const account = opts.account ?? Account.getMe();
    const value = TestJazzContextManager.fromAccountOrGuest(account, {
        isAuthenticated: opts.isAuthenticated
    });
    ctx.set(JAZZ_AUTH_CTX, value.getAuthSecretStorage());
    if ('guest' in account) {
        ctx.set(JAZZ_CTX, {
            current: value.getCurrentValue()
        });
    }
    else {
        ctx.set(JAZZ_CTX, {
            current: value.getCurrentValue()
        });
    }
    return ctx;
}
export { createJazzTestAccount, createJazzTestGuest, linkAccounts, setActiveAccount, setupJazzTestSync, } from "jazz-tools/testing";
