import { CojsonInternalTypes, type OutgoingSyncQueue, type SyncMessage } from "cojson";
import type { DBClientInterfaceAsync, StoredCoValueRow } from "./types.js";
export declare class StorageManagerAsync {
    private readonly toLocalNode;
    private readonly dbClient;
    private loadedCoValues;
    constructor(dbClient: DBClientInterfaceAsync, toLocalNode: OutgoingSyncQueue);
    handleSyncMessage(msg: SyncMessage): Promise<void>;
    sendNewContent(coValueKnownState: CojsonInternalTypes.CoValueKnownState): Promise<void>;
    sendContentMessage(coValueRow: StoredCoValueRow, contentMessage: CojsonInternalTypes.NewContentMessage): Promise<void>;
    handleLoad(msg: CojsonInternalTypes.LoadMessage): Promise<void>;
    handleContent(msg: CojsonInternalTypes.NewContentMessage): Promise<unknown>;
    private putNewTxs;
    handleKnown(_msg: CojsonInternalTypes.KnownStateMessage): void;
    handleDone(_msg: CojsonInternalTypes.DoneMessage): void;
    sendStateMessage(msg: CojsonInternalTypes.KnownStateMessage | CojsonInternalTypes.NewContentMessage): Promise<unknown>;
}
//# sourceMappingURL=managerAsync.d.ts.map