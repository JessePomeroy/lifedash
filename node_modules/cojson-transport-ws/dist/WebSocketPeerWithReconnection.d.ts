import { type Peer } from "cojson";
import type { AnyWebSocketConstructor } from "./types.js";
export declare class WebSocketPeerWithReconnection {
    private peer;
    private reconnectionTimeout;
    private addPeer;
    private removePeer;
    private WebSocketConstructor;
    private pingTimeout;
    constructor(opts: {
        peer: string;
        reconnectionTimeout: number | undefined;
        addPeer: (peer: Peer) => void;
        removePeer: (peer: Peer) => void;
        WebSocketConstructor?: AnyWebSocketConstructor;
        pingTimeout?: number;
    });
    enabled: boolean;
    closed: boolean;
    currentPeer: Peer | undefined;
    private unsubscribeNetworkChange;
    onNetworkChange(callback: (connected: boolean) => void): () => void;
    private waitForOnline;
    reconnectionAttempts: number;
    onConnectionChangeListeners: Set<(connected: boolean) => void>;
    waitUntilConnected: () => Promise<void>;
    subscribe: (listener: (connected: boolean) => void) => void;
    unsubscribe: (listener: (connected: boolean) => void) => void;
    startConnection: () => Promise<void>;
    enable: () => void;
    disable: () => void;
}
//# sourceMappingURL=WebSocketPeerWithReconnection.d.ts.map